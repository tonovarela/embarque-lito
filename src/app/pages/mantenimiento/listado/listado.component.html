
<div class="sm:ml-52      py-8 px-2  ">
    <div class="p-2  rounded-lg  h-full  mt-8 transition-colors duration-30 ">
       <div class="flex justify-between items-center w-full p-2 bg-transparent dark:bg-gray-500 rounded-tr-md rounded-tl-md text-gray-600 dark:text-white">
          <h1 class="text-2xl ">Paros</h1>
          <button (click)="descargarExcel()" class="text-md rounded-full border p-2 border-black dark:border-white hover:bg-green-500 dark:hover:bg-green-500 hover:text-white ">
             <svg class="fill-current w-5 h-5" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path d="M439.658,91.21L351.435,2.987C349.522,1.075,346.928,0,344.223,0H79.554c-5.633,0-10.199,4.566-10.199,10.199v491.602 c0,5.633,4.566,10.199,10.199,10.199h352.892c5.632,0,10.199-4.566,10.199-10.199V98.422 C442.645,95.717,441.57,93.123,439.658,91.21z M354.422,34.823l53.401,53.4h-53.401V34.823z M422.247,491.602H89.753V20.398 h244.271v78.024c0,5.633,4.567,10.199,10.199,10.199h78.024V491.602z"></path> </g> </g> <g> <g> <path d="M282.012,454.884H119.331c-5.633,0-10.199,4.566-10.199,10.199s4.566,10.199,10.199,10.199h162.681 c5.632,0,10.199-4.566,10.199-10.199S287.644,454.884,282.012,454.884z"></path> </g> </g> <g> <g> <path d="M334.026,454.884h-11.067c-5.632,0-10.199,4.566-10.199,10.199s4.567,10.199,10.199,10.199h11.067 c5.632,0,10.199-4.566,10.199-10.199S339.658,454.884,334.026,454.884z"></path> </g> </g> <g> <g> <path d="M311.6,263.139l75.737-93.534c2.473-3.056,2.972-7.261,1.278-10.809c-1.692-3.549-5.274-5.808-9.205-5.808h-84.952 c-3.078,0-5.99,1.389-7.926,3.781L256,194.475l-30.532-37.706c-1.936-2.392-4.849-3.781-7.926-3.781H132.59 c-3.931,0-7.513,2.259-9.206,5.808c-1.693,3.548-1.194,7.754,1.279,10.809l75.737,93.534l-75.737,93.534 c-2.474,3.056-2.972,7.261-1.279,10.809c1.693,3.548,5.274,5.808,9.206,5.808h84.952c3.077,0,5.99-1.389,7.926-3.781L256,331.804 l30.531,37.706c1.936,2.392,4.849,3.781,7.926,3.781h84.953c3.931,0,7.513-2.259,9.205-5.808 c1.693-3.548,1.195-7.754-1.279-10.809L311.6,263.139z M299.323,173.386h58.706l-59.553,73.545l-29.352-36.25L299.323,173.386z M212.677,352.892h-58.706l59.552-73.545l29.352,36.25L212.677,352.892z M299.323,352.892L153.971,173.386h58.706l145.351,179.506 H299.323z"></path> </g> </g> </g></svg>
          </button>
       </div>
      <div class="w-full mb-4">
       @if (cargando())  {
          <div>
             <div class="animate-pulse flex space-x-4">
                <div class="flex-1 space-y-4 py-1">
                   <div class="h-4 bg-gray-300 dark:bg-gray-700 rounded w-3/4"></div>
                   <div class="space-y-2">
                      <div class="h-4 bg-gray-300 dark:bg-gray-700 rounded"></div>
                      <div class="h-4 bg-gray-300 dark:bg-gray-700 rounded w-5/6"></div>
                   </div>
                </div>
             </div>
          </div>
          
       }@else{
       <ejs-grid #grid [dataSource]='Mantenimientos()' [filterSettings]="filterSettings " (dataBound)='dataBound()'
          [allowExcelExport]='true' AutoFitAll="false" [height]="heightGrid" allowReordering='true'
          [allowFiltering]=true allowPaging="true " allowResizing="true" allowSorting="true"
          [pageSettings]='pageSettings'>
          <e-columns>
            <e-column  [allowFiltering]="false" headerText='' width='70' >
               <ng-template #template let-data>
                  <div  class="grid grid-cols-2 gap-4">                     
                     @if(data.esUltimo=='1'){
                        <svg (click)="eliminarMantenimiento(data)"  class="h-4 w-4 cursor-pointer   fill-current " viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path  d="M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"></path></g></svg>                           
                     }
                  </div>                  
               </ng-template>
            </e-column>
            <e-column field='id_mantenimiento' headerText="ID" >            
            </e-column>
            <e-column field='transporte'>            
            </e-column>
            <!-- <e-column field='chofer'>            
            </e-column> -->
            <e-column field='motivo'>            
            </e-column>
            
             <e-column field='fecha_inicio'  textAlign="center" headerText="inicio" >            
                <ng-template #template let-data>
                   {{data.fecha_inicio | date: 'dd-MM-yyyy'}}
                </ng-template>
             </e-column>
             <e-column field='fecha_fin'  headerText="fin" >            
               <ng-template #template let-data>                  
                  <div class="flex justify-between">
                     {{data.fecha_fin | date: 'dd-MM-yyyy'}}
                     <svg (click)="editarFecha(data)" class="h-5 w-5 cursor-pointer   stroke-black dark:stroke-white" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 2V5"  stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M16 2V5"  stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M3.5 9.08997H20.5" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M19.21 15.77L15.6701 19.31C15.5301 19.45 15.4 19.71 15.37 19.9L15.18 21.25C15.11 21.74 15.45 22.0801 15.94 22.0101L17.29 21.82C17.48 21.79 17.75 21.66 17.88 21.52L21.4201 17.9801C22.0301 17.3701 22.3201 16.6601 21.4201 15.7601C20.5301 14.8701 19.82 15.16 19.21 15.77Z"  stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M18.7001 16.28C19.0001 17.36 19.8401 18.2 20.9201 18.5"  stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 22H8C4.5 22 3 20 3 17V8.5C3 5.5 4.5 3.5 8 3.5H16C19.5 3.5 21 5.5 21 8.5V12"  stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M11.9955 13.7H12.0045"  stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M8.29431 13.7H8.30329"  stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M8.29431 16.7H8.30329"  stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
                  </div>
                  
               </ng-template>

            </e-column>
            <e-column field='fecha_registro' headerText="registro" >            
               <ng-template #template let-data>
                  {{data.fecha_registro | date: 'dd-MM-yyyy hh:mm a'}}                                 
               </ng-template>
            </e-column>                          
             <e-column field='observaciones' headerText="Observaciones" ></e-column>
          </e-columns>
       </ejs-grid>   
    }   
 </div>
    </div>  
 </div>


 

 @if (mantenimientoSeleccionado) {
   <div class="fixed z-10 inset-0 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
       <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
           
           <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"></div>           
           <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>           
           <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
               <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                   <div class="sm:flex sm:items-start">
                       <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                           <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">
                               Editar 
                           </h3>
                           <div class="mt-2">
                               <form [formGroup]="formEditarFecha">
                                   <div class="mb-4 ">
                                       <label for="fecha_fin" class="block text-gray-700 text-sm font-bold mb-2">Fecha Fin:</label>
                                       <input type="date" id="fecha_fin" formControlName="fecha_fin" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                   </div>
                               </form>
                           </div>
                       </div>
                   </div>
               </div>
               <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                   <button type="button" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm" (click)="guardarFecha()">
                       Guardar
                   </button>
                   <button type="button" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm" (click)="cerrarModal()">
                       Cancelar
                   </button>
               </div>
           </div>
       </div>
   </div>
   }
 
 <app-fabbutton></app-fabbutton>