<div class="sm:ml-64      py-5 px-2  ">
    <div class="p-4  rounded-lg  h-full  dark:border-gray-700 mt-14 transition-colors duration-30 ">
        <div class="">
            <div id="wrapper" class="flex justify-center   ">
                <div
                    class="font-roboto w-full sm:w-[32rem] mx-4 mt-1  px-5  py-4  bg-white  space-y-3 border border-gray-400  rounded-md dark:bg-transparent dark:border-white">
                    <form class="space-y-3" [formGroup]="formRegistro" (ngSubmit)="registro()">
                        <div class="w-full">
                            <select id="transporte" formControlName="transporte" name="transporte" 
                            (change)="actualizarKilometrajeInicial()"              
                            aria-placeholder="Seleccione una unidad de transporte"
                            [ngClass]="{'input-invalido': tieneError('transporte'), 'input': !tieneError('transporte') }"
                                class="capitalize ">
                                <option value="0">SELECCIONE UNA UNIDAD DE TRANSPORTE</option>
                                @for (transporte of transportes;track transporte.id_transporte){
                                <option value="{{transporte.id_transporte}}">{{transporte.descripcion}} -
                                    {{transporte.placas}}
                                </option>
                                }
                            </select>
                        </div>
                        <div class="w-full">
                            <label for="currency-input" class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white">Total de litros</label>
                            <div class="relative w-full">
                                <div class="absolute inset-y-0 start-0 top-0 flex items-center ps-3.5 pointer-events-none">
                                    <svg class="w-4 h-4 text-gray-500 dark:text-gray-400 " fill="currentColor" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 507.108 507.108"
                                     xml:space="preserve"><g id="SVGRepo_bgCarrier"  stroke-width="0"></g><g id="SVGRepo_tracerCarrier"   stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> 
                                        <g transform="translate(1 1)"> <g> <g> <path  
                                            
                                            d="M502.244,155.95L412.403,21.671c-4.83-6.762-12.559-10.626-20.287-10.626H137.082c-7.728,0-15.457,3.864-20.287,11.592 l-12.858,19.218L77.188,20.705c-3.864-3.864-9.66-4.83-16.423-3.864c-5.796,0-10.626,3.864-13.525,7.728L3.769,82.532 c-7.728,9.66-5.796,23.185,3.864,30.913l31.87,24.715l-12.549,18.756c-2.898,3.864-3.864,8.694-3.864,13.525v299.472 c0,13.525,10.626,24.151,24.151,24.151h434.717c13.525,0,24.151-10.626,24.151-25.117V169.475 C506.108,164.645,505.142,159.815,502.244,155.95z M50.139,122.139L19.225,97.988c-0.966-0.966-0.966-2.898-0.966-3.864 l43.472-57.962c0-0.966,0.966-0.966,1.932-0.966c0.966,0,1.932,0,1.932,0.966l27.96,21.211L71.869,89.785L50.139,122.139z M486.788,469.913c0,2.898-1.932,4.83-4.83,4.83H47.24c-2.898,0-4.83-1.932-4.83-4.83V170.441c0-0.966,0-1.932,0.966-2.898 l11.565-17.41l0.027,0.021l6.374-9.657l71.875-108.199c0.966-0.966,1.932-1.932,3.864-1.932h255.034 c1.932,0,2.898,0.966,3.864,1.932l89.842,135.245c0.966,0.966,0.966,1.932,0.966,2.898V469.913z"></path> <path d="M314.833,223.573H214.365c-9.66,0-17.389,7.728-17.389,17.389v81.147c0,9.66,7.728,17.389,17.389,17.389h100.468 c9.66,0,17.389-7.728,17.389-17.389v-81.147C332.222,231.301,324.493,223.573,314.833,223.573z M312.901,320.177h-96.604v-77.283 h96.604V320.177z"></path> <path d="M145.776,158.849c-3.864-3.864-9.66-3.864-13.524,0c-3.864,3.864-3.864,9.66,0,13.525l38.641,38.641 c1.932,1.932,3.864,2.898,6.762,2.898s4.83-0.966,6.762-2.898c3.864-3.864,3.864-9.66,0-13.525L145.776,158.849z"></path> <path d="M383.422,158.849L344.78,197.49c-3.864,3.864-3.864,9.66,0,13.525c1.932,1.932,3.864,2.898,6.762,2.898 c2.898,0,4.83-0.966,6.762-2.898l38.642-38.641c3.864-3.864,3.864-9.66,0-13.525 C393.082,154.984,387.286,154.984,383.422,158.849z"></path> <path d="M358.305,352.056c-3.864-3.864-9.66-3.864-13.525,0c-3.864,3.864-3.864,9.66,0,13.525l38.642,38.642 c1.932,1.932,3.864,2.898,6.762,2.898c2.898,0,4.83-0.966,6.762-2.898c3.864-3.864,3.864-9.66,0-13.525L358.305,352.056z"></path> <path d="M170.893,352.056l-38.641,38.641c-3.864,3.864-3.864,9.66,0,13.525c1.932,1.932,3.864,2.898,6.762,2.898 c2.898,0,4.83-0.966,6.762-2.898l38.642-38.642c3.864-3.864,3.864-9.66,0-13.525 C180.554,348.192,174.757,348.192,170.893,352.056z"></path> <path d="M180.554,126.969H349.61c11.592,0,21.253-9.66,21.253-22.219V80.599c0-11.592-9.66-21.253-21.253-21.253H180.554 c-11.592,0-21.253,9.66-21.253,21.253v25.117C159.301,117.309,168.961,126.969,180.554,126.969z M178.622,80.599 c0-0.966,0.966-1.932,1.932-1.932H349.61c0.966,0,1.932,0.966,1.932,1.932v24.151c0,0.966-0.966,1.932-1.932,1.932H180.554 c-0.966,0-1.932-0.966-1.932-1.932V80.599z"></path> </g> </g> </g> </g></svg>
                                </div>
                                <input 
                            
                                  type="text"                                                                    
                                    name="totalLitros"   maxlength="13" (input)="onInput($event,'','totalLitros')" (keypress)="onValidateNumber($event)"  
                                  [ngClass]="{'input-icon-invalido': tieneError('totalLitros'), 'input-icon': !tieneError('totalLitros') }"
                                 placeholder="Total de litros" required />
                            </div>
                        </div>
                        <div class="w-full">
                            <label for="currency-input" class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white">Importe de recarga</label>
                            <div class="relative w-full">
                                <div class="absolute inset-y-0 start-0 top-0 flex items-center ps-3.5 pointer-events-none">
                                    
                                    <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 16">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M5 2a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1M2 5h12a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Zm8 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/>
                                </svg>
                                </div>
                                <input name="importeCarga"  
                                [ngClass]="{'input-icon-invalido': tieneError('importeCarga'), 'input-icon': !tieneError('importeCarga') }"
                                type="text" maxlength="13" (input)="onInput($event,'$','importeCarga')" (keypress)="onValidateNumber($event)"  id="currency-input" placeholder="Importe de recarga" required />
                            </div>
                        </div>
                        <div class="max-w-[32rem]">
                            <label for="end-time"
                                class="block  mb-2 text-sm font-medium text-gray-900 dark:text-white">Kilometraje</label>
                            <div class="grid sm:grid-cols-2 grid-cols-1 gap-2">

                                <div class="relative flex items-center mb-2">
                                    <button type="button" id="decrement-button"
                                    [disabled]="formRegistro.get('kilometraje_inicial')!.disabled"
                                    (click)="incrementar(-1,'kilometraje_inicial')"
                                        class="bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:border-gray-600 hover:bg-gray-200 border border-gray-300 rounded-s-lg p-3 h-10 focus:ring-gray-100 dark:focus:ring-gray-700 focus:ring-2 focus:outline-none disabled:cursor-not-allowed">
                                        <app-minus />
                                    </button>
                                    <input type="text" 
                                    formControlName="kilometraje_inicial"
                                        class=" bg-gray-50 border-x-0 border-gray-300 h-10 font-medium text-center text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full pb-6 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 disabled:cursor-not-allowed disabled:bg-gray-200"
                                        placeholder="" required />
                                    <div
                                        class="absolute bottom-1 start-1/2 -translate-x-1/2 rtl:translate-x-1/2 flex items-center text-xs text-gray-400 space-x-1 rtl:space-x-reverse">
                                        <app-gauge />
                                        <span> Inicial</span>
                                    </div>
                                    <button type="button" id="increment-button"
                                    [disabled]="formRegistro.get('kilometraje_inicial')!.disabled"
                                    (click)="incrementar(1,'kilometraje_inicial')"
                                        class="bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:border-gray-600 hover:bg-gray-200 border border-gray-300 rounded-e-lg p-3 h-10 focus:ring-gray-100 dark:focus:ring-gray-700 focus:ring-2 focus:outline-none disabled:cursor-not-allowed">
                                        <app-plus />
                                    </button>
                                </div>
                                <div class="relative flex items-center mb-2">
                                    <button type="button" id="decrement-button"
                                    [disabled]="formRegistro.get('kilometraje_final')!.disabled"
                                    (click)="incrementar(-1,'kilometraje_final')"
                                        class="bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:border-gray-600 hover:bg-gray-200 border border-gray-300 rounded-s-lg p-3 h-10 focus:ring-gray-100 dark:focus:ring-gray-700 focus:ring-2 focus:outline-none disabled:cursor-not-allowed">
                                        <app-minus />
                                    </button>
                                    <input type="text"
                                    formControlName="kilometraje_final"
                                        class="bg-gray-50 border-x-0 border-gray-300 h-10 font-medium text-center text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full pb-6 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 disabled:cursor-not-allowed disabled:bg-gray-200"
                                        placeholder="" required />
                                    <div
                                        class="absolute bottom-1 start-1/2 -translate-x-1/2 rtl:translate-x-1/2 flex items-center text-xs text-gray-400 space-x-1 rtl:space-x-reverse">
                                        <app-gauge />
                                        <span> Final</span>
                                    </div>
                                    <button type="button" id="increment-button"
                                    [disabled]="formRegistro.get('kilometraje_final')!.disabled"
                                    (click)="incrementar(1,'kilometraje_final')"
                                        class="bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:border-gray-600 hover:bg-gray-200 border border-gray-300 rounded-e-lg p-3 h-10 focus:ring-gray-100 dark:focus:ring-gray-700 focus:ring-2 focus:outline-none disabled:cursor-not-allowed">
                                        <app-plus />
                                    </button>
                                </div>
                            </div>
                            @if(formRegistro.errors ){
                            <div class="text-red-500 text-xs text-center w-full">
                                {{formRegistro.errors["mensaje"]}}
                            </div>
                            }
                        </div>
                        <div class="full">
                            <div class="relative ">
                                <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                                    <app-calendar />
                                </div>
                            
                            
                                <input id="fecha_registro" 
                                (changeDate)="actualizarFecha($event,'fecha_registro')"
                                name="fecha_registro" datepicker datepicker-autohide
                                    datepicker-format="dd-mm-yyyy" type="text"
                                    class="bg-gray-50 border w-full border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block  ps-10 p-2  text-center  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                                    placeholder="Fecha de registro" />
                            </div>

                        </div>

                        <div class="w-full">
                            <textarea id="observaciones" rows="4" formControlName="observaciones"
                                class="block dark:placeholder:text-white p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                                placeholder="Escribe tus observaciones aqui..."></textarea>

                        </div>

                        <button (click)="registro()">Registro</button>
                        <pre>
                            {{formRegistro.value | json}}
                            {{tieneError('totalLitros')}}
                        </pre>
                    </form>

                </div>
            </div>
        </div>

    </div>
</div>

